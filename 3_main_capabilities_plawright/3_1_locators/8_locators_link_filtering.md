# Цепочка локаторов. Фильтрация.

Поиск и локализация веб-элемента, может оказаться непростой задачей.

Довольно распространенной проблемой является, когда вы не можете найти подходящий уникальный локатор для интересующего
вас элемента, но можете найти локатор для элемента в который входит нужный вам веб-элемент.

Для решения таких случаев Playwright предлагает несколько способов.

## Цепочка локаторов

Локаторы могут быть объединены в последовательность(цепь) с помощью символа  `>>`

```
css=article >> .baz >> css=span[attr=value]
```

При использовании такой формы записи, следующий селектор запрашивается относительно результата предыдущего.

Давайте рассмотрим это на примере меню навигации по сайту https://navbar.antonzimaiev.repl.co/#

Каждый пункт меню является элементов списка. Давайте составим цепочку до пункта меню Company с помощью цепочки
локаторов.

`page.locator("#navbarNavDropdown >> li:has-text('Company')").click()`

Другим вариантом использования цепочки локаторов является сохранение веб-элемента в переменную и обращение к локаторам с
помощью этой переменной.

```python
nav_bar = page.locator('div#navbarNavDropdown')
nav_bar.locator("li:has-text('Company')").click()
```

## Фильтрация

Для того чтобы помочь локализовать поиск, реализован метод `filter()`. Сузить поиск можно передав аргументом фильтр по
тексту, по локатору или можно использовать оба способа фильтрации.

Для того чтобы отфильтровать элементы по тексту, нужно передать префикс `has_text=` и текст, который присутствует в
элементе.

`page.locator("li").filter(has_text='Company').click()`

Для того чтобы отфильтровать элементы по локатору, используйте префикс `has=`

`page.locator('li').filter(has=page.locator('.dropdown-toggle')).click()`
