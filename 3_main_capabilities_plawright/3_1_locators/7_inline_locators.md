# Встроенные локаторы get_by_*

Playwright умеет работать с такими классическими локаторами как CSS и XPath. Но начиная с версии Playwright 1.27, в нем
реализованы несколько встроенных локаторов, которые упрощают и организуют процесс локализации веб-элемента. Для
обеспечения стабильности своих тестов, создатели Playwright рекомендуют использовать именно локаторы `get_by_*`.

## Поиск по тексту - page.get_by_text(text, **kwargs)

Самый наглядный и простой способ поиска веб-элемента, так как вам даже не нужно разбираться в структуре DOM. Метод
`get_by_text()` позволяет выбирать элемент через его текстовое содержимое. По умолчанию данный метод ищет вхождение
текста, а не точное его совпадение.

Вы можете передать часть текста, который относится к чекбокс который вас интересует, и Playwright будет искать вхождение
данного текста на всех веб-элементах страницы.

```python
page.get_by_text("switch checkbox").click()
```

Но если вы передадите параметр `exact=True`, то Playwright будет искать точное совпадение. И в таком случае код
приведенный ниже не сможет найти нужный элемент и вызовет ошибку.

```python
page.get_by_text("switch checkbox", exact=True).click()
```

## Поиск по тегу <lable> - page.get_by_label(text, **kwargs)

Тег `<label>` добавляет подпись к веб-элементу и используется как правило для тегов `<button>`, `<input>`, `<select>`
и `<textarea>`.

Рассмотрим следующую структуру DOM формы для ввода адреса электронной почты.

Значением тега `<label>` в данном примере является - Email address. Ориентируясь на это значение, мы можем использовать
его как параметр поиска в методе `get_by_label()`

```python
page.get_by_label("Email address").fill("qa@example.com")
```

## Поиск по плейсхолдеру - page.get_by_placeholder(text, **kwargs)

Атрибут `<placeholder>` задает подсказку в поле ввода, чтобы указать пользователю - какое значение следует ввести.

Передав в метод `get_by_placeholder()` значение данного атрибута, вы можете выбирать нужный вам элемент.

```python
page.get_by_placeholder("password")
```

## Поиск на основе data-testid - page.get_by_test_id(test_id)

Атрибут `<data-testid>` используется для идентификации веб-элемента специально для облегчения процесса тестирования.

Как правило, данный атрибут применяется в том случае, если значения атрибутов тегов генерируются случайно при
развертывании приложения.

Рассмотрим DOM списка задач. У каждой созданной задачи имеется атрибут `data-testid` со значением `todo-title`

Для того чтобы обратиться к данному элементу ориентируясь на data-testid используйте пример кода ниже

```python
page.get_by_test_id('todo-title').click()
```

## Поиск изображение на основе атрибута alt - page.get_by_alt_text(text, **kwargs)

Атрибут `alt` добавляет текст для изображений. Такой текст дает возможность получить описание о рисунке, если не
отображается само изображение.

```python
page.get_by_alt_text('logo').click()
```

## Поиск по его атрибуту title - page.get_by_title(text, **kwargs)

Атрибут `<title>` используется для указания дополнительной информации об элементе. Когда указатель мыши перемещается по
веб-элементу, отображается информация указанная в атрибуте `<title>`

Передайте значение атрибута в метод `page.get_by_title()` чтобы Playwright нашел данный веб-элемент.

```python
page.get_by_title("username").fill("Anton")
```

## Поиск элемента по роли ARIA - page.get_by_role(role, **kwargs)

Поиск по роли ARIA(атрибутам доступности) - это новый подход к стратегии составления локаторов и поиска веб-элементов.

Локатор `page.get_by_role(role, ** kwargs)` отражает то, как вспомогательные технологии
(Скринридер (screen reader)) для
людей с ограниченными возможностями, воспринимают страницу. Например, является ли какой-либо элемент кнопкой(button) или
заголовком(теги h1-h6).

Роли ARIA придают содержимому смысловое и семантическое значение. Роли ARIA добавляются в элементы HTML с помощью явного
атрибута `role="role type"`, где role type - это имя роли в спецификации ARIA.

Вы можете найти все [поддерживаемые роли](https://www.w3.org/TR/wai-aria-1.2/#role_definitions) здесь. Но даже если
атрибут `role` не указывается у веб-элемента, то все элементы
имеют «[неявную ARIA-семантику по умолчанию](https://www.w3.org/TR/wai-aria-1.1/#implicit_semantics)».

При поиске по роли ARIA обычно следует также передавать доступное имя, чтобы локатор точно определил нужный элемент.

```python
page.get_by_role("button", name="Submit").click()
```

Рассмотрим сценарий заполнения веб-формы, используя встроенные локаторы Playwright.

```python
def test_loc(page):
    page.goto('https://textinput.antonzimaiev.repl.co/?')
    page.get_by_label("Email address").fill("qa@example.com")
    page.get_by_title("username").fill("Anton")
    page.get_by_placeholder('password').fill("secret")
    page.get_by_role('checkbox').click()
```
