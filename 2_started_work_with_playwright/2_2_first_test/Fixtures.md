# Fixtures - Pytest-playwright

Fixtures ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ pytest –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –≠—Ç–æ —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è —Ç–µ—Å—Ç–∞, –Ω–æ
–Ω–µ –≤–Ω—É—Ç—Ä–∏ —Ç–µ—Å—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ —Ñ–∏–∫—Å—Ç—É—Ä—ã - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–ß—Ç–æ–±—ã —Å–æ–æ–±—â–∏—Ç—å pytest, —á—Ç–æ –¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è —Ñ–∏–∫—Å—Ç—É—Ä–æ–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É pytest –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä@pytest.fixture –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä–æ–π. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—É –¥–ª—è —Ç–µ—Å—Ç–∞,
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–º—è –¥–∞–Ω–Ω–æ–π —Ñ–∏–∫—Å—Ç—É—Ä—ã –≤ —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

```python
import pytest


@pytest.fixture
def my_fixture():
    pass


def test_add_todo(my_fixture):
    pass
```

–í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ–∏–∫—Å—Ç—É—Ä—É –Ω–∞ –æ—Å–Ω–æ–≤–µ —É–∂–µ –∏–º–µ—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞.

```python
@pytest.fixture
def browser_fixture():
    with sync_playwright() as playwright:
        browser = playwright.chromium.launch(headless=False)
        context = browser.new_context()
        page = context.new_page()
        yield page
        page.close()
        browser.close()
```

–ù–æ —Ä–µ–±—è—Ç–∞ –∏–∑ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Playwright –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏ —ç—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞.

## pytest-playwright

–ê–¥–¥–æ–Ω pytest-playwright —Ä–µ–∞–ª–∏–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–∫—Å—Ç—É—Ä. –ù–∞–∏–±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è–µ—Ç—Å—è —Ñ–∏–∫—Å—Ç—É—Ä–∞ - "page".
–§–∏–∫—Å—Ç—É—Ä–∞ page –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–π.

–ü–µ—Ä–µ–ø–∏—à–µ–º –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é pytest –∏ —Ñ–∏–∫—Å—Ç—É—Ä –∏–∑ –∞–¥–¥–æ–Ω–∞ pytest-playwright

```python
def test_add_todo(page):
    page.goto("https://playwright-todomvc.antonzimaiev.repl.co/#/")
    page.get_by_placeholder("What needs to be done?").click()
    page.get_by_placeholder("What needs to be done?").fill("–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π playwright")
    page.get_by_placeholder("What needs to be done?").press("Enter")
```

–ö–æ–¥ —Å—Ç–∞–ª –Ω–∞–º–Ω–æ–≥–æ —á–∏—â–µ –∏ –ª–∞–∫–æ–Ω–∏—á–Ω–µ–µ üòé

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é pytest-playwright –¥–µ–ª–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä headless(–±–µ–∑–≥–æ–ª–æ–≤—ã–º). –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ headed, –ø–µ—Ä–µ–¥–∞–π—Ç–µ
–ø–∞—Ä–∞–º–µ—Ç—Ä, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ.

pytest --headed
